<% layout("layouts/boilerplate") %>

<style>
  body {
    background-color: #f7f7f7;
  }
</style>

<div class="container mt-4">
  <div class="row">
    <div class="col-md-8 offset-md-2">

      <div class="show-card">

        <!-- Image -->
        <img 
          src="<%= listing.image && listing.image.url ? listing.image.url : 'https://via.placeholder.com/800x400?text=No+Image' %>" 
          alt="listing image"
          class="show-img"
        >

        <!-- Content -->
        <div class="show-content">
          <h2 class="show-title"><%= listing.title || 'Untitled Listing' %></h2>

          <p class="show-location">
            üìç <%= listing.location || 'Unknown location' %>, <%= listing.country || 'Unknown country' %>
          </p>

          <p class="text-muted">
            <%= listing.description || 'No description available.' %>
          </p>

          <div class="price">
            ‚Çπ <%= listing.price ? listing.price.toLocaleString("en-IN") : "N/A" %> / night
          </div>

          <ul class="details-list text-muted">
            <li>‚úî Verified Listing</li>
            <li>‚úî Free Cancellation</li>
            <li>‚úî 24√ó7 Support</li>
          </ul>

          <!-- Buttons -->
          <div class="row action-btns mt-4">
            <div class="col-md-6 mb-2">
              <a 
                href="/listings/<%= listing._id %>/edit" 
                class="btn btn-outline-dark"
              >
                Edit Listing
              </a>
            </div>

            <div class="col-md-6 mb-2">
              <form 
                method="POST" 
                action="/listings/<%= listing._id %>?_method=DELETE"
              >
                <button class="btn btn-danger">
                  Delete Listing
                </button>
              </form>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>
